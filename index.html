<!DOCTYPE html>
<html lang="en-US">
    <head>
		<meta charset="utf-8">
        <style type="text/css">
            #container-vowels, #container-consonants{
                height: 20rem;
            }

            #vowel, #vowel-idx, #consonant, #consonant-idx {
                font-size:  15rem;
                font-family: Arial, Helvetica, sans-serif;
            }

            #vowel-idx, #consonant-idx{
                float:right;
                font-size:  10rem;
                color: #eee;
            }

            #btnPrevious, #btnNext{
                font-size: 2rem;
            }

            #history span{
                font-size: 2rem;
                padding-right: 30px;
            }
        </style>
    </head>
    <body>
        <div id="container-vowels">
            <span id="vowel"></span>
            <span id="vowel-idx"></span>
        </div>
        <br />
        <!-- <button id="btnPrevious">Previous</button> -->
        <button id="btnNext">Next</button>

        <div id="container-consonants">
            <span id="consonant"></span>
            <span id="consonant-idx"></span>
        </div>

        <div id="history"></button>
    </body>
    <script
  src="https://code.jquery.com/jquery-3.7.1.min.js"
  integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
  crossorigin="anonymous"></script>
    <script>

        var historyVowels = [];
        var lastVowelIndex = 0;
		
		var historyConsonants = [];
        var lastConsonantIndex = 0;

		const vowelItems = [
			["1", "/ɑ:/"], 
			["2", "/aɪ/"], 
			["3", "/aʊ/"],  
			["4", "/ɔ:/"], 
			["5", "/ɔɪ/"], 
			["6", "/oʊ/"], 
			["7", "/e/"],  
			["8", "/eɪ/"], 
			["9", "/æ/"], 
			["10", "/ɪ/"], 
			["11", "/i:/"], 
			["11'", "/i/"], 
			["12", "/ʊ/"], 
			["13", "/u:/"], 
			["13'", "/u/"], 
			["14", "/ʌ/"], 
			["15", "/ɜ:/"], 
			["15'", "/ə/"]];
		
		const consonantItems = [
			["1", "/p/"], 
			["2", "/b/"], 
			["3", "/f/"],  
			["4", "/v/"], 

			["5", "/k/"], 
			["6", "/g/"], 

			["7", "/θ/"],  
			["8", "/ð/ "], 

			["9", "/s/"], 
			["10", "/z/"], 
			["11", "/ʃ/"], 
			["12'", "/ʒ/"],

			["13", " /t/"], 
			["14", "/d/"], 
			["15", "/j/"], 
			["16", "/tʃ/"], 
			["17", "/dʒ/"], 

			["18", " /m/"], 
			["19", "/n/"], 
			["20", "/ŋ/"], 

			["21", "/w/"], 
			["22", "/r/"], 

			["23", "/l/"],

			["24", "/h/"]];
				
        function genVowel(){

            const randomVowel = Math.floor(Math.random() * vowelItems.length);

            if (historyVowels.length > 0 && (vowelItems[randomVowel][0] == historyVowels[historyVowels.length - 1][0])){
                genVowel();
                return;
            }

            historyVowels.push(vowelItems[randomVowel]);

            $("#vowel").html(vowelItems[randomVowel][1]);
            $("#vowel-idx").html(vowelItems[randomVowel][0]);

            //$("#history").html(historyVowels.map(x=>`<span>${x[1]}</span>`));
            lastVowelIndex = historyVowels.length - 2;
        }
		
		function genConsonant(){
			
            const randomConsonant = Math.floor(Math.random() * consonantItems.length);

            if (historyConsonants.length > 0 && (consonantItems[randomConsonant][0] == historyConsonants[historyConsonants.length - 1][0])){
                genConsonant();
                return;
            }

            historyConsonants.push(consonantItems[randomConsonant]);

            $("#consonant").html(consonantItems[randomConsonant][1]);
            $("#consonant-idx").html(consonantItems[randomConsonant][0]);

            //$("#history").html(historyConsonants.map(x=>`<span>${x[1]}</span>`));
            lastConsonantIndex = historyConsonants.length - 2;
        }

        genVowel();
        genConsonant();
		
        $("#btnNext").click(e =>{
            genVowel();
            genConsonant();
        });

        // $("#btnPrevious").click(e=>{
        //     if (lastVowelIndex > -1){
        //         $("#vowel").html(lastVowels[lastVowelIndex][1]);
        //         $("#vowel-idx").html(lastVowels[lastVowelIndex][0]);

        //         lastVowelIndex--;
        //     }
        // });
    </script>
</html>